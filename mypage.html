<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>ãƒã‚¤ãƒšãƒ¼ã‚¸</title>

  <style>
    :root{
      --bg:#ffffff;
      --text:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;
      --soft:#f9fafb;

      --radius:16px;
      --shadow: 0 10px 28px rgba(17,24,39,.08);

      --blue:#2563eb;
      --primary:#111827;

      --max:520px;
      --title:22px;
      --label:18px;
      --sub:14px;

      --tap:56px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Noto Sans JP", sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    /* ===== å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆå·¦ãªã—ï¼ä¸­å¤®ç”»é¢åï¼å³ãƒ›ãƒ¼ãƒ ï¼‰ ===== */
    .header{
      height:64px;
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      align-items:center;
      border-bottom:1px solid var(--line);
      padding:0 16px;
      background:#fff;
      position:sticky;
      top:0;
      z-index:10;
    }
    .header-title{
      grid-column:2;
      font-size: var(--title);
      font-weight:900;
      text-align:center;
      letter-spacing:.02em;
    }
    .header-home{
      grid-column:3;
      justify-self:end;
      font-size:18px;
      font-weight:900;
      text-decoration:none;
      color: var(--blue);
    }

    .wrap{
      max-width: var(--max);
      margin:0 auto;
      padding:16px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }

    .card{
      border:1px solid var(--line);
      border-radius: var(--radius);
      background:#fff;
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .card-hd{
      padding:14px 16px;
      border-bottom:1px solid var(--line);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      background: linear-gradient(180deg, #ffffff 0%, #fafafa 100%);
    }
    .card-hd .h{
      font-size:16px;
      font-weight:900;
      color:#374151;
    }
    .pill{
      font-size:12px;
      font-weight:800;
      color: var(--muted);
      border:1px solid var(--line);
      background:#fff;
      padding:8px 10px;
      border-radius:999px;
      white-space:nowrap;
    }

    /* ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± */
    .info{
      padding:12px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .row{
      border:1px solid var(--line);
      border-radius:14px;
      padding:12px;
      background:#fff;
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .k{
      font-size:12px;
      font-weight:900;
      color: var(--muted);
      letter-spacing:.04em;
    }
    .v{
      font-size:18px;
      font-weight:900;
      color: var(--text);
      line-height:1.2;
    }

    /* ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
    .menu{
      display:flex;
      flex-direction:column;
    }
    .item{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      padding:16px;
      min-height: var(--tap);
      text-decoration:none;
      color: var(--text);
      border-bottom:1px solid var(--line);
      background:#fff;
    }
    .item:last-child{ border-bottom:none; }
    .item:active{ background:#f3f4f6; }

    .left{
      display:flex;
      align-items:center;
      gap:12px;
      min-width:0;
    }
    .icon{
      width:46px;height:46px;
      border-radius:14px;
      border:1px solid var(--line);
      background:#fff;
      display:grid;
      place-items:center;
      font-size:20px;
      box-shadow: 0 8px 18px rgba(17,24,39,.06);
      flex:0 0 auto;
    }
    .text{
      display:flex;
      flex-direction:column;
      gap:6px;
      min-width:0;
    }
    .text .label{
      font-size: var(--label);
      font-weight:900;
      line-height:1.15;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .text .sub{
      font-size: var(--sub);
      font-weight:800;
      color: var(--muted);
      line-height:1.2;
    }
    .chev{
      font-size:24px;
      color:#9ca3af;
      flex:0 0 auto;
    }

    .note{
      padding:12px 16px;
      border-top:1px solid var(--line);
      background: var(--soft);
      font-size:12px;
      color: var(--muted);
      font-weight:800;
      line-height:1.4;
    }
  </style>
</head>

<body>
  <header class="header">
    <div></div>
    <div class="header-title">ãƒã‚¤ãƒšãƒ¼ã‚¸</div>
    <a class="header-home" href="./index.html">ãƒ›ãƒ¼ãƒ </a>
  </header>

  <div class="wrap">

    <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± -->
    <section class="card" aria-label="ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±">
      <div class="card-hd">
        <div class="h">ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±</div>
        <div class="pill" id="modePill">ãƒ¢ãƒƒã‚¯</div>
      </div>

      <div class="info">
        <div class="row">
          <div class="k">ç”³è¾¼è€…å</div>
          <div class="v" id="name">å±±ç”° å¤ªéƒ</div>
        </div>
        <div class="row">
          <div class="k">é›»è©±ç•ªå·</div>
          <div class="v" id="tel">090-1234-5678</div>
        </div>
        <div class="row">
          <div class="k">ä½æ‰€</div>
          <div class="v" id="addr">æ±äº¬éƒ½â—¯â—¯åŒºâ—¯â—¯ 1-2-3</div>
        </div>

        <!-- è¿½åŠ ï¼šãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆä½æ‰€ã®ä¸‹ï¼‰ -->
        <div class="row">
          <div class="k">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</div>
          <div class="v" id="email">taro@example.com</div>
        </div>
      </div>

      <div class="note">
        â€»æœ¬ç”»é¢ã¯ãƒ¢ãƒƒã‚¯ã§ã™ã€‚å°†æ¥çš„ã«LINEãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ï¼åŸºç›¤APIã‹ã‚‰å–å¾—ã—ã¦è¡¨ç¤ºã™ã‚‹æƒ³å®šã§ã™ã€‚
      </div>
    </section>

    <!-- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <section class="card" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼">
      <div class="card-hd">
        <div class="h">ãƒ¡ãƒ‹ãƒ¥ãƒ¼</div>
        <div class="pill">é·ç§»</div>
      </div>

      <nav class="menu">
        <a class="item" href="./reservation.html" aria-label="äºˆç´„æƒ…å ±ã®ç¢ºèªã¸">
          <div class="left">
            <div class="icon">ğŸ“„</div>
            <div class="text">
              <div class="label">äºˆç´„æƒ…å ±ã®ç¢ºèª</div>
              <div class="sub">äºˆç´„è©³ç´°ã‚’è¡¨ç¤º</div>
            </div>
          </div>
          <div class="chev">â€º</div>
        </a>

        <!-- ã¾ã ç”»é¢ãªã—ï¼šä»®ãƒªãƒ³ã‚¯ï¼‹ã‚¢ãƒ©ãƒ¼ãƒˆã§æ¡ˆå†… -->
        <a class="item" href="./mypage_edit.html" id="goEdit" aria-label="ãƒã‚¤ãƒšãƒ¼ã‚¸æƒ…å ±ã®å¤‰æ›´ã¸">
          <div class="left">
            <div class="icon">âœï¸</div>
            <div class="text">
              <div class="label">ãƒã‚¤ãƒšãƒ¼ã‚¸æƒ…å ±ã®å¤‰æ›´</div>
              <div class="sub">ï¼ˆç”»é¢ä½œæˆäºˆå®šï¼‰</div>
            </div>
          </div>
          <div class="chev">â€º</div>
        </a>

        <!-- ã¾ã ç”»é¢ãªã—ï¼šä»®ãƒªãƒ³ã‚¯ï¼‹ã‚¢ãƒ©ãƒ¼ãƒˆã§æ¡ˆå†… -->
        <a class="item" href="./companion_add.html" id="goCompanion" aria-label="åŒè¡Œè€…æƒ…å ±è¿½åŠ ã¸">
          <div class="left">
            <div class="icon">â•</div>
            <div class="text">
              <div class="label">åŒè¡Œè€…æƒ…å ±è¿½åŠ </div>
              <div class="sub">ï¼ˆç”»é¢ä½œæˆäºˆå®šï¼‰</div>
            </div>
          </div>
          <div class="chev">â€º</div>
        </a>
      </nav>
    </section>

  </div>

  <script>
    // ç”»é¢æœªä½œæˆãƒªãƒ³ã‚¯ã¯404å›é¿ï¼ˆãƒ¢ãƒƒã‚¯èª¬æ˜ãŒã—ã‚„ã™ã„ï¼‰
    function planned(e, label){
      e.preventDefault();
      alert(label + " ã¯ç”»é¢ä½œæˆäºˆå®šã§ã™ã€‚");
    }
    document.getElementById("goEdit").addEventListener("click", (e)=>planned(e, "ãƒã‚¤ãƒšãƒ¼ã‚¸æƒ…å ±ã®å¤‰æ›´"));
    document.getElementById("goCompanion").addEventListener("click", (e)=>planned(e, "åŒè¡Œè€…æƒ…å ±è¿½åŠ "));

    // ãƒ¢ãƒƒã‚¯ç”¨ï¼šåå‰ãªã©ã‚’ localStorage ã‹ã‚‰èª­ã‚ã‚‹ã‚ˆã†ã«ï¼ˆå°†æ¥ã®ç”»é¢è¿½åŠ ã«ç¹‹ãŒã‚‹ï¼‰
    (function(){
      const uRaw = localStorage.getItem("miniapp_user_profile");
      if(!uRaw) return;
      try{
        const u = JSON.parse(uRaw);
        if(u.name)  document.getElementById("name").textContent  = u.name;
        if(u.tel)   document.getElementById("tel").textContent   = u.tel;
        if(u.addr)  document.getElementById("addr").textContent  = u.addr;

        // è¿½åŠ ï¼šemail
        if(u.email) document.getElementById("email").textContent = u.email;

        document.getElementById("modePill").textContent = "ä¿å­˜å€¤";
      }catch{}
    })();
  </script>
</body>
</html>
