<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>館内案内図</title>

  <style>
    :root{
      --bg:#ffffff;
      --text:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;
      --soft:#f9fafb;
      --radius:16px;
      --shadow: 0 10px 28px rgba(17,24,39,.08);
      --blue:#2563eb;
      --primary:#111827;

      --max: 520px;
      --title: 22px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Noto Sans JP", sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    .header{
      height:64px;
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      align-items:center;
      border-bottom:1px solid var(--line);
      padding:0 16px;
      background:#fff;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    .header-title{
      grid-column:2;
      font-size: var(--title);
      font-weight: 900;
      text-align:center;
      letter-spacing:.02em;
    }
    .header-home{
      grid-column:3;
      justify-self:end;
      font-size:18px;
      font-weight:900;
      text-decoration:none;
      color: var(--blue);
    }

    .wrap{
      max-width: var(--max);
      margin:0 auto;
      padding:16px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }

    .card{
      border:1px solid var(--line);
      border-radius: var(--radius);
      background:#fff;
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .tabsFloor{
      display:flex;
      gap:10px;
      padding:12px;
      border-bottom:1px solid var(--line);
      background: linear-gradient(180deg, #ffffff 0%, #fafafa 100%);
    }
    .tabFloor{
      flex:1;
      height:48px;
      border-radius:14px;
      border:1px solid var(--line);
      background:#fff;
      font-size:16px;
      font-weight:900;
      cursor:pointer;
    }
    .tabFloor.active{
      background: var(--primary);
      color:#fff;
      border-color: var(--primary);
    }

    .mapArea{
      padding:12px;
      background: var(--soft);
    }
    .mapFrame{
      border:1px solid var(--line);
      border-radius: 14px;
      background:#fff;
      overflow:hidden;
    }
    .mapTitle{
      padding:12px 14px;
      border-bottom:1px solid var(--line);
      font-size:16px;
      font-weight:900;
      color:#374151;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      background:#fff;
    }
    .badge{
      font-size:12px;
      font-weight:800;
      color: var(--muted);
      border:1px solid var(--line);
      padding:8px 10px;
      border-radius:999px;
      background:#fff;
      white-space:nowrap;
    }

    .svgWrap{
      width:100%;
      aspect-ratio: 4 / 3;
      display:block;
      background:#fff;
    }

    .note{
      padding:12px 14px;
      font-size:12px;
      color: var(--muted);
      font-weight:800;
      background:#fff;
      border-top:1px solid var(--line);
      line-height:1.4;
    }

    .mapText{ font-family: system-ui, -apple-system, "Noto Sans JP", sans-serif; }
  </style>
</head>

<body>
  <header class="header">
    <div></div>
    <div class="header-title">館内案内図</div>
    <a class="header-home" href="./index.html">ホーム</a>
  </header>

  <div class="wrap">
    <section class="card" aria-label="館内案内図">

      <!-- 階層タブ（店舗は固定なので階だけ） -->
      <div class="tabsFloor" role="tablist" aria-label="階層切替">
        <button class="tabFloor active" data-floor="1F" type="button">1階</button>
        <button class="tabFloor" data-floor="2F" type="button">2階</button>
        <button class="tabFloor" data-floor="3F" type="button">3階</button>
      </div>

      <div class="mapArea">
        <div class="mapFrame">
          <div class="mapTitle">
            <div id="mapName">館内案内図（1階）</div>
            <div id="mapBadge" class="badge">館内案内図（デモ）</div>
          </div>

          <div id="mapHost" class="svgWrap"></div>

          <div class="note">
            ※モック用の仮マップです。階ごとに構成を変えています（実図面に差し替え前提）。
          </div>
        </div>
      </div>
    </section>
  </div>

  <script>
    // ===== 1店舗固定（表示に店舗名が必要ならここだけ変更）=====
    const FACILITY_NAME = "館内案内図";

    // ===== 共通SVG部品 =====
    function baseFrame({ floorLabel }) {
      return `
        <defs>
          <linearGradient id="bgG" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#ffffff"/>
            <stop offset="1" stop-color="#f9fafb"/>
          </linearGradient>
          <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="0" dy="6" stdDeviation="8" flood-color="rgba(17,24,39,.12)"/>
          </filter>
        </defs>

        <rect x="0" y="0" width="800" height="600" fill="url(#bgG)"/>
        <rect x="40" y="40" width="720" height="520" rx="26" fill="#fff" stroke="#e5e7eb" stroke-width="3" filter="url(#shadow)"/>

        <!-- フロア表示 -->
        <rect x="60" y="58" width="110" height="34" rx="12" fill="#111827"></rect>
        <text class="mapText" x="115" y="81" text-anchor="middle" font-size="14" font-weight="900" fill="#fff">${floorLabel}</text>
      `;
    }

    function pin({ x, y, label }) {
      return `
        <g>
          <circle cx="${x}" cy="${y}" r="18" fill="#111827" opacity="0.10"></circle>
          <circle cx="${x}" cy="${y}" r="10" fill="#111827"></circle>
          <path d="M ${x} ${y+12} L ${x-10} ${y+40} L ${x+10} ${y+40} Z" fill="#111827"></path>
          <rect x="${x-80}" y="${y-52}" width="160" height="34" rx="12" fill="#111827"></rect>
          <text class="mapText" x="${x}" y="${y-30}" text-anchor="middle" font-size="14" font-weight="900" fill="#fff">${label}</text>
        </g>
      `;
    }

    // ===== 階ごとに「構成そのもの」を変えたSVG =====
    // 1F: 入口/受付/待合/売店
    function svg1F(){
      return `
      <svg viewBox="0 0 800 600" width="100%" height="100%" role="img" aria-label="1F-map">
        ${baseFrame({ floorLabel: "1階" })}

        <!-- 通路 -->
        <rect x="355" y="90" width="90" height="450" rx="18" fill="#f9fafb" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="400" y="320" text-anchor="middle" font-size="14" font-weight="800" fill="#6b7280" transform="rotate(-90 400 320)">通路</text>

        <!-- 左：来館導線 -->
        <rect x="70" y="110" width="260" height="120" rx="18" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="200" y="165" text-anchor="middle" font-size="18" font-weight="900" fill="#111827">入口</text>

        <rect x="70" y="250" width="260" height="120" rx="18" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="200" y="310" text-anchor="middle" font-size="18" font-weight="900" fill="#111827">受付</text>

        <rect x="70" y="390" width="260" height="150" rx="18" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="200" y="460" text-anchor="middle" font-size="18" font-weight="900" fill="#111827">待合室</text>

        <!-- 右：式場＋売店 -->
        <rect x="470" y="110" width="260" height="180" rx="18" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="600" y="195" text-anchor="middle" font-size="18" font-weight="900" fill="#111827">式場</text>

        <rect x="470" y="310" width="260" height="110" rx="18" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="600" y="375" text-anchor="middle" font-size="18" font-weight="900" fill="#111827">売店</text>

        <rect x="470" y="440" width="125" height="100" rx="18" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="532" y="500" text-anchor="middle" font-size="16" font-weight="900" fill="#111827">トイレ</text>

        <rect x="605" y="440" width="125" height="100" rx="18" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="667" y="500" text-anchor="middle" font-size="16" font-weight="900" fill="#111827">控室</text>

        ${pin({ x: 600, y: 365, label: "売店（1階）" })}

        <text class="mapText" x="400" y="585" text-anchor="middle" font-size="12" font-weight="800" fill="#9ca3af">MAP DEMO</text>
      </svg>`;
    }

    // 2F: 休憩室/授乳室/キッズ/自販機コーナー（雰囲気変える）
    function svg2F(){
      return `
      <svg viewBox="0 0 800 600" width="100%" height="100%" role="img" aria-label="2F-map">
        ${baseFrame({ floorLabel: "2階" })}

        <!-- 中央ホール（1Fと違う） -->
        <rect x="230" y="115" width="340" height="370" rx="24" fill="#f9fafb" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="400" y="305" text-anchor="middle" font-size="16" font-weight="900" fill="#6b7280">ホール</text>

        <!-- 周囲の部屋 -->
        <rect x="70" y="110" width="140" height="170" rx="18" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="140" y="200" text-anchor="middle" font-size="16" font-weight="900" fill="#111827">休憩室</text>

        <rect x="70" y="300" width="140" height="190" rx="18" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="140" y="400" text-anchor="middle" font-size="16" font-weight="900" fill="#111827">授乳室</text>

        <rect x="590" y="110" width="140" height="170" rx="18" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="660" y="200" text-anchor="middle" font-size="16" font-weight="900" fill="#111827">キッズ</text>
        <text class="mapText" x="660" y="224" text-anchor="middle" font-size="12" font-weight="800" fill="#6b7280">スペース</text>

        <rect x="590" y="300" width="140" height="190" rx="18" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="660" y="390" text-anchor="middle" font-size="16" font-weight="900" fill="#111827">自販機</text>
        <text class="mapText" x="660" y="414" text-anchor="middle" font-size="12" font-weight="800" fill="#6b7280">コーナー</text>

        <!-- トイレを上側に寄せて差別化 -->
        <rect x="260" y="70" width="130" height="80" rx="18" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="325" y="120" text-anchor="middle" font-size="14" font-weight="900" fill="#111827">トイレ</text>

        <rect x="410" y="70" width="130" height="80" rx="18" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="475" y="120" text-anchor="middle" font-size="14" font-weight="900" fill="#111827">喫煙所</text>

        ${pin({ x: 660, y: 370, label: "自販機（2階）" })}

        <text class="mapText" x="400" y="585" text-anchor="middle" font-size="12" font-weight="800" fill="#9ca3af">MAP DEMO</text>
      </svg>`;
    }

    // 3F: 管理/関係者エリアっぽく（一般客と雰囲気変える）
    function svg3F(){
      return `
      <svg viewBox="0 0 800 600" width="100%" height="100%" role="img" aria-label="3F-map">
        ${baseFrame({ floorLabel: "3階" })}

        <!-- 右に事務寄りレイアウト（廊下＋小部屋多め） -->
        <rect x="80" y="110" width="300" height="420" rx="22" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="230" y="150" text-anchor="middle" font-size="16" font-weight="900" fill="#111827">会議室</text>
        <text class="mapText" x="230" y="176" text-anchor="middle" font-size="12" font-weight="800" fill="#6b7280">（関係者）</text>

        <rect x="410" y="110" width="310" height="120" rx="18" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="565" y="180" text-anchor="middle" font-size="16" font-weight="900" fill="#111827">事務室</text>

        <rect x="410" y="250" width="150" height="130" rx="18" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="485" y="325" text-anchor="middle" font-size="14" font-weight="900" fill="#111827">倉庫</text>

        <rect x="570" y="250" width="150" height="130" rx="18" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="645" y="325" text-anchor="middle" font-size="14" font-weight="900" fill="#111827">更衣室</text>

        <rect x="410" y="400" width="310" height="130" rx="18" fill="#fff" stroke="#e5e7eb" stroke-width="2"/>
        <text class="mapText" x="565" y="475" text-anchor="middle" font-size="16" font-weight="900" fill="#111827">関係者控室</text>

        <!-- 3Fのピン（例：事務室） -->
        ${pin({ x: 565, y: 170, label: "事務室（3階）" })}

        <text class="mapText" x="400" y="585" text-anchor="middle" font-size="12" font-weight="800" fill="#9ca3af">MAP DEMO</text>
      </svg>`;
    }

    const MAPS = {
      "1F": svg1F,
      "2F": svg2F,
      "3F": svg3F
    };

    let currentFloor = "1F";

    const mapNameEl = document.getElementById("mapName");
    const mapBadgeEl = document.getElementById("mapBadge");
    const mapHost = document.getElementById("mapHost");
    const floorTabs = Array.from(document.querySelectorAll(".tabFloor[data-floor]"));

    function render(){
      floorTabs.forEach(btn => btn.classList.toggle("active", btn.dataset.floor === currentFloor));
      const floorLabel = currentFloor.replace("F","階");

      mapNameEl.textContent = `${FACILITY_NAME}（${floorLabel}）`;
      mapBadgeEl.textContent = `館内案内図（${floorLabel}・デモ）`;

      const svgFn = MAPS[currentFloor];
      mapHost.innerHTML = svgFn ? svgFn() : `<div style="padding:16px;font-weight:800;color:#6b7280;">この階の案内図は準備中です</div>`;
    }

    floorTabs.forEach(btn=>{
      btn.addEventListener("click", ()=>{
        currentFloor = btn.dataset.floor;
        render();
      });
    });

    render();
  </script>
</body>
</html>
